(()=>{"use strict";var t={338:(t,e,a)=>{var n=a(795);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},795:t=>{t.exports=window.ReactDOM}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};a.r(n),a.d(n,{allowedMetaFields:()=>rt,contentSaveSource:()=>J,contentSaveTranslate:()=>tt,excerptSaveSource:()=>K,excerptSaveTranslate:()=>X,metaFieldsSaveSource:()=>et,metaFieldsSaveTranslate:()=>at,setBlockRules:()=>nt,titleSaveSource:()=>G,titleSaveTranslate:()=>Z,translationInfo:()=>ot});var o={};a.r(o),a.d(o,{getAllowedMetaFields:()=>pt,getBlockRules:()=>lt,getTranslatedString:()=>it,getTranslationEntry:()=>st,getTranslationInfo:()=>ct});var r=a(338);const s=window.wp.element,l=window.wp.data,i=window.wp.i18n,c=t=>React.createElement("div",{className:"modal-header",key:t.modalRender},React.createElement("span",{className:"close",onClick:()=>{t.setPopupVisibility(!1)}},"Ã—"),React.createElement("h2",{className:"notranslate"},(0,i.__)("Step 2 - Start Automatic Translation Process","autopoly-ai-translation-for-polylang")),React.createElement("div",{className:"save_btn_cont"},React.createElement("button",{className:"notranslate save_it button button-primary",disabled:t.translatePendingStatus,onClick:t.updatePostData},(0,i.__)("Update Content","autopoly-ai-translation-for-polylang")))),p=window.React,d=t=>{const e=t.skipTags||[],a=t=>{const n=document.createElement("div");n.innerHTML=t;const o=n.firstElementChild;if(!o)return t;let r=o.childNodes,s=r.length;if(s>0){r=Array.from(r).sort(((t,e)=>3===t.nodeType?-1:3===e.nodeType?1:0));for(let t=0;t<s;t++){let e=r[t];if(3===e.nodeType){let t=e.textContent.replace(/^\s+|^\.\s+|^\s.|\s+$|\.\s+$|\s.\+$/g,(t=>`#atfp_open_translate_span#${t}#atfp_close_translate_span#`));e.textContent=t}else if(8===e.nodeType){let t=`\x3c!--${e.textContent}--\x3e`;e.textContent=t}else{let t=a(e.outerHTML);e.outerHTML=t}}}let l=o.outerHTML.match(/^<[^>]+>/)[0];l=l.replace(/#atfp_open_translate_span#|#atfp_close_translate_span#/g,"");const i=o.tagName.toLowerCase(),c=new RegExp(`</${i}>`,"i"),p=o.outerHTML.match(c);if("<style>"===l)return`#atfp_open_translate_span#${o.outerHTML}#atfp_close_translate_span#`;let d=o.innerHTML;d=d.replace(/^\s+|^\.\s+|^\s.|\s+$|\.\s+$|\s.\+$/g,(t=>`#atfp_open_translate_span#${t}#atfp_close_translate_span#`)),o.innerHTML="";let u="",g="",m="";return g=`#atfp_open_translate_span#${l}#atfp_close_translate_span#`,p&&(u=`#atfp_open_translate_span#</${i}>#atfp_close_translate_span#`),e.includes(i)&&(d=d.replace(/#atfp_open_translate_span#|#atfp_close_translate_span#/g,""),d="#atfp_open_translate_span#"+d+"#atfp_close_translate_span#"),""!==d?(""!==g&&(m=g+d),""!==u&&(m+=u)):m=g+u,o.outerHTML=m,n.innerHTML},n=["yandex","localAiTranslator","google"].includes(t.service)?(e=>{/^(_yoast_wpseo_|rank_math_|_seopress_)/.test(t.contentKey.trim())&&(e=(t=>t.replace(/(%{1,2}[a-zA-Z0-9_]+%{0,2})/g,(t=>`#atfp_open_translate_span#${t}#atfp_close_translate_span#`)))(e));const n=/\[(.*?)\]/g;e.match(n)&&(e=e.replace(n,(t=>`#atfp_open_translate_span#${t}#atfp_close_translate_span#`)));const o=document.createElement("div");o.innerHTML=function(t){if("string"!=typeof t||!t.trim())return t;const e=/<\/?([a-zA-Z0-9]+)(\s[^>]*)?>/g,a=[];let n,o="",r=0;for(;null!==(n=e.exec(t));){const[s,l]=n,i=s.startsWith("</"),c=n.index;if(c>r&&(o+=t.slice(r,c)),i){const t=a.findIndex((t=>t.tag===l));-1!==t?(a.splice(t,1),o+=s):o+=`#atfp_temp_tag_open#<${l}>#atfp_temp_tag_close#`+s}else a.push({tag:l}),o+=s;r=e.lastIndex}r<t.length&&(o+=t.slice(r));for(let t=a.length-1;t>=0;t--){const{tag:e}=a[t];o+=`#atfp_temp_tag_open#</${e}>#atfp_temp_tag_close#`}return n=null,a.length=0,t=null,o}(e),function(t){let e=t.childNodes;const n=t=>{if(e.length>t){let o=e[t],r=null;if(3===o.nodeType){const t=o.textContent.replace(/^\s+|^\.\s+|^\s.|\s+$|\.\s+$|\s.\+$/g,(t=>`#atfp_open_translate_span#${t}#atfp_close_translate_span#`));r=document.createTextNode(t)}else if(8===o.nodeType)r=document.createTextNode(`\x3c!--${o.textContent}--\x3e`);else{let t=a(o.outerHTML);r=document.createTextNode(t)}o.replaceWith(r),t++,n(t)}};n(0)}(o);let r=o.innerText;return r=r.replace(/#atfp_temp_tag_open#([\s\S]*?)#atfp_temp_tag_close#/g,""),(t=>t.split(/(#atfp_open_translate_span#.*?#atfp_close_translate_span#)|'/).filter(Boolean).filter((t=>""!==t.trim())))(r)})(t.content):t.content,o=/#atfp_open_translate_span#[\s\S]*?#atfp_close_translate_span#/,r=/#atfp_open_translate_span#|#atfp_close_translate_span#/g;return React.createElement(React.Fragment,null,["yandex","localAiTranslator","google"].includes(t.service)?n.map(((t,e)=>o.test(t)?React.createElement("span",{key:e,className:"notranslate atfp-notraslate-tag",translate:"no"},(t=>t.replace(r,""))(t)):t)):n)},u=({type:t,key:e,translateContent:a,source:n,provider:o,AllowedMetaFields:r})=>{if(["title","excerpt"].includes(t)){const e=`${t}SaveTranslate`;(0,l.dispatch)("block-atfp/translate")[e](a,o)}else["metaFields"].includes(t)?Object.keys(r).includes(e)&&(0,l.dispatch)("block-atfp/translate").metaFieldsSaveTranslate(e,a,n,o):(0,l.dispatch)("block-atfp/translate").contentSaveTranslate(e,a,n,o)},g=({prefix:t=!1,start:e=!1,end:a=!1,translateStatus:n=!1})=>{const o=(a-e)/1e3,r={};if(t){if(r.provider=t,e&&a){const e=(0,l.select)("block-atfp/translate").getTranslationInfo().translateData[t]?.timeTaken||0;r.timeTaken=o+e}n&&(r.translateStatus=!0),(0,l.dispatch)("block-atfp/translate").translationInfo(r)}},m=({number:t})=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t,f=(t,e="none",a=!1)=>{!1===a&&(a=(0,l.select)("block-atfp/translate").getTranslationInfo().sourceCharacterCount);const n=document.querySelector(`.${t}-translator-strings-count`);n&&(n.style.display=e,n.querySelector(".totalChars").textContent=m({number:a}))},h=({container:t,provider:e,startTime:a,endTime:n,translateStatus:o,modalRenderId:r})=>{if(!document.querySelector(`#atfp-${e}-strings-modal.modal-container[data-render-id="${r}"]`))return;t.querySelector(".atfp_translate_progress").style.display="none",t.querySelector(".atfp_string_container").style.animation="none",document.body.style.top="0";const s=t.querySelector("button.save_it");s.removeAttribute("disabled"),s.classList.add("translated"),s.classList.remove("notranslate"),(({provider:t,startTime:e,endTime:a})=>{const n=document.getElementById("atfp_strings_model").querySelector(".atfp_string_container").querySelectorAll('td.translate[data-string-type]:not([data-translate-status="translated"])'),o=n.length,r=(0,l.select)("block-atfp/translate").getAllowedMetaFields();n.forEach(((n,s)=>{const i=n.innerText,c=n.dataset.key,p=n.dataset.stringType,d=n.closest("tr").querySelector('td[data-source="source_text"]').innerText;u({type:p,key:c,translateContent:i,source:d,provider:t,AllowedMetaFields:r});const m=(0,l.select)("block-atfp/translate").getTranslationInfo().translateData[t],h=m&&m.targetStringCount?m.targetStringCount:0,_=m&&m.targetWordCount?m.targetWordCount:0,y=m&&m.targetCharacterCount?m.targetCharacterCount:0;""!==i.trim()&&i.trim().length>0&&(0,l.dispatch)("block-atfp/translate").translationInfo({targetStringCount:h+d.trim().split(/(?<=[.!?]+)\s+/).length,targetWordCount:_+d.trim().split(/\s+/).filter((t=>/[^\p{L}\p{N}]/.test(t))).length,targetCharacterCount:y+d.trim().length,provider:t}),s===o-1&&(jQuery(`.${t}-translator_progress`).css("width","100%"),f(t,"block"),g({prefix:t,start:e,end:a,translateStatus:!0}))}))})({provider:e,startTime:a,endTime:n}),o(!1)},_=(t,e,a)=>{const n=(new Date).getTime();let o=!1;(t=>{if(document.querySelector(`#atfp-${t}-progress-bar`))jQuery(`.${t}-translator_progress`).css("width","0%"),jQuery(`.${t}-translator-strings-count`).hide();else{const e=jQuery(`\n            <div id="atfp-${t}-progress-bar" class="atfp-translate-progress-bar">\n                <div class="${t}-translator_progress_bar" style="background-color: #f3f3f3;border-radius: 10px;overflow: hidden;margin: 1.5rem auto; width: 50%;">\n                <div class="${t}-translator_progress" style="overflow: hidden;transition: width .2s ease-in-out; border-radius: 10px;text-align: center;width: 0%;height: 20px;box-sizing: border-box;background-color: #4caf50; color: #fff; font-weight: 600;"></div>\n                </div>\n                <div style="display:none; color: white;" class="${t}-translator-strings-count hidden">\n                    Wahooo! You have saved your valuable time via auto translating \n                    <strong class="totalChars"></strong> characters using \n                    <strong>\n                        ${t} Translator\n                    </strong>\n                </div>\n            </div>\n        `);jQuery("#atfp_strings_model .atfp_translate_progress").append(e)}})(e);const r=document.getElementById("atfp_strings_model"),s=r.querySelector(".atfp_string_container");s.scrollTop=0;const l=s.scrollHeight;if(void 0!==l&&l>100){if(document.querySelector(".atfp_translate_progress").style.display="block",setTimeout((()=>{const t=2e3*Math.ceil(l/s?.offsetHeight);(t=>{const{element:e,scrollSpeed:a,provider:n}=t;if(e.scrollHeight-e.offsetHeight<=0)return;const o=jQuery(`.${n}-translator_progress_bar`);let r=null,s=e.scrollTop;const l=()=>{const t=e.scrollHeight-e.offsetHeight+100,i=performance.now();r||(r=i);const c=s+(i-r)/a*(t+2e3-s);var p=e.scrollTop/(e.scrollHeight-e.clientHeight)*100;o.find(`.${n}-translator_progress`).css("width",p+"%");let d=(Math.round(10*p)/10).toFixed(1);d=Math.min(d,100).toString(),o.find(`.${n}-translator_progress`).text(d+"%"),c>t?f(n,"block"):(e.scrollTop=c,c<t&&setTimeout(l,16))};l()})({element:s,scrollSpeed:t,provider:e})}),2e3),s.addEventListener("scroll",(()=>{if(s.scrollTop+s.clientHeight+50>=s.scrollHeight&&!o){const s=(new Date).getTime();setTimeout((()=>{h({container:r,provider:e,startTime:n,endTime:s,translateStatus:t,modalRenderId:a})}),4e3),o=!0}})),s.clientHeight+10>=l){jQuery(`.${e}-translator_progress`).css("width","100%"),jQuery(`.${e}-translator_progress`).text("100%"),f(e,"block");const o=(new Date).getTime();setTimeout((()=>{h({container:r,provider:e,startTime:n,endTime:o,translateStatus:t,modalRenderId:a})}),4e3)}}else{jQuery(`.${e}-translator_progress`).css("width","100%"),jQuery(`.${e}-translator_progress`).text("100%"),f(e,"block");const o=(new Date).getTime();setTimeout((()=>{h({container:r,provider:e,startTime:n,endTime:o,translateStatus:t,modalRenderId:a})}),4e3)}},y=(t,e,a,n,o,r,s,l)=>{var i={keycode:{ESCAPE:27},getRequest:function(){return t.XDomainRequest?new t.XDomainRequest:t.XMLHttpRequest?new t.XMLHttpRequest:null},loadScript:function(t,a,n){var o=e.createElement("script");o.src=t,o.addEventListener("load",(function t(){this.removeEventListener("load",t,!1),n()}),!1),a.appendChild(o)},loadResource:function(e,a){var n=this.getRequest();return n?(n.onload=function(){a(this.responseText)},n.open("GET",e,!0),t.setTimeout((function(){n.send()}),0),n):null},getStyleList:function(t){var e=t.getAttribute("class");return e?e.replace(/\s+/g," ").trim().split(" "):[]},hasStyleName:function(t,e){var a=this.getStyleList(t);return!!a.length&&a.indexOf(e)>=0},addStyleName:function(t,e){var a=this.getStyleList(t);a.push(e),t.setAttribute("class",a.join(" "))},removeStyleName:function(t,e){var a=this.getStyleList(t),n=a.indexOf(e);n>=0&&(a.splice(n,1),t.setAttribute("class",a.join(" ")))},isSupportedBrowser:function(){return"localStorage"in t&&"querySelector"in e&&"addEventListener"in t&&"getComputedStyle"in t&&"CSS1Compat"===e.compatMode}},c=function(t,e){var a=this;t.addEventListener("click",(function(t){a.onClick(t)}),!1),this._element=t,this._contentElement=e||this._element};c.prototype.onClick=function(){},c.prototype.setText=function(t){return this._contentElement.textContent=t,this};var p=function(t,e){var a=this;t.reset(),t.addEventListener("click",(function(t){var e=t.target;"value"in e&&a.onSelect(e.value)}),!1),t.addEventListener("change",(function(t){alert("form change state");var e=t.target;e.checked&&a.onChange(e.value)}),!1),this._form=t,this._itemName=e};p.prototype.onSelect=function(){},p.prototype.onChange=function(){},p.prototype.isHidden=function(){return this._form.hasAttribute("hidden")},p.prototype.getItems=function(){return this._form[this._itemName]||[]},p.prototype.getValue=function(){var t,e,a=this.getItems();for(t=0,e=a.length;t<e;t++)if(a[t].checked)return a[t].value;return""},p.prototype.setValue=function(t){var e,a,n=this.getItems();if(t===this.getValue())return this;for(e=0,a=n.length;e<a;e++)if(n[e].value===t){n[e].checked=!0,this.onChange(t);break}return this},p.prototype.setHidden=function(t){return(t=!!t)!==this.isHidden()&&(this._form[(t?"set":"remove")+"Attribute"]("hidden",""),this.onHiddenChange(t)),this},p.prototype.onHiddenChange=function(){};var d=function(a){var n,o=this,c=a.select,p=a.element,d=a.storage,u=(a.autoMode,a.pageLang),g=(a.userLang,a.translator),m=a.leftButton,f=a.rightButton,h=a.closeButton;if(this._element=p,this._pageLang=u,this._translator=g,this.onStateChange=function(t,e){"active"===t&&d.setValue("active",e)},c.onSelect=function(t){this.setHidden(!0),o.translate(t),_(s,"yandex",l)},c.onChange=function(t){d.setValue("lang",t),f.setText(t),o.setState("invalid",t===u)},c.onHiddenChange=function(a){var n,r=e.documentElement;o.setState("expanded",!a),a||(o.setState("right",!1).setState("bottom",!1),p.focus(),(n=this._form.getBoundingClientRect()).right+(t.pageXOffset||r.scrollLeft)+1>=Math.max(r.clientWidth,r.scrollWidth)&&o.setState("right",!0),n.bottom+(t.pageYOffset||r.scrollTop)+1>=Math.max(r.clientHeight,r.scrollHeight)&&o.setState("bottom",!0))},p.addEventListener("blur",(function(){c.setHidden(!0)}),!1),p.addEventListener("keydown",(function(t){t.keyCode===i.keycode.ESCAPE&&c.setHidden(!0)}),!1),g.on("error",(function(){this.abort(),o.setState("busy",!1).setState("error",!0)})),g.on("progress",(function(t){switch(t){case 0:o.setState("busy",!0).setState("active",!0);break;case 100:o.setState("done",!0).setState("busy",!1)}})),m.onClick=function(){c.setHidden(!0),o.translate(c.getValue()),_(s,"yandex",l)},f.onClick=function(){o.hasState("active")?(g.undo(),o.setState("busy",!1).setState("done",!1).setState("error",!1).setState("active",!1)):c.setHidden(!c.isHidden())},h.onClick=function(){c.setHidden(!0)},null!=r)var y=r;switch(y){case"nb":case"nn":n="no";break;default:n=y}n&&(c.setValue(n),d.getValue("active"))};d.prototype.hasState=function(t){return i.hasStyleName(this._element,"yt-state_"+t)},d.prototype.setState=function(t,e){return(e=!!e)===this.hasState(t)||(i[(e?"add":"remove")+"StyleName"](this._element,"yt-state_"+t),this.onStateChange(t,e)),this},d.prototype.translate=function(t){return t&&!this.hasState("active")&&this._translator.translate(this._pageLang,t),this},d.prototype.onStateChange=function(){};var u=function(e){this._name=e;try{this._data=t.JSON.parse(t.localStorage[e])}catch(t){this._data={}}};u.prototype.getValue=function(t){return this._data[t]},u.prototype.setValue=function(e,a){this._data[e]=a;try{t.localStorage[this._name]=t.JSON.stringify(this._data)}catch(t){}};var g=e.getElementById(n.widgetId);if(g&&i.isSupportedBrowser()){var m=function(){i.loadScript("https://yastatic.net/s3/translate/v21.4.7/js/tr_page.js",g,(function(){i.loadResource("https://translate.yandex.net/website-widget/v1/widget.html",(function(t){var e;t&&(g.innerHTML=t,e=g.querySelector(".yt-widget"),n.widgetTheme&&e.setAttribute("data-theme",n.widgetTheme),new d({select:new p(e.querySelector(".yt-listbox"),"yt-lang"),element:e,storage:new u("yt-widget"),autoMode:"true"===n.autoMode,pageLang:n.pageLang,userLang:(a.language||a.userLanguage||"").split("-")[0],translator:new o.PageTranslator({srv:"tr-url-widget",url:"https://translate.yandex.net/api/v1/tr.json/translate",autoSync:!0,maxPortionLength:600}),leftButton:new c(e.querySelector(".yt-button_type_left")),rightButton:new c(e.querySelector(".yt-button_type_right"),e.querySelector(".yt-button_type_right > .yt-button__text")),closeButton:new c(e.querySelector(".yt-button_type_close"))}))}))}))};"complete"===e.readyState||"interactive"===e.readyState?m():e.addEventListener("DOMContentLoaded",m,!1)}},b=t=>{const e=window;y(e,e.document,e.navigator,{pageLang:t.sourceLang,autoMode:"false",widgetId:"atfp_yandex_translate_element",widgetTheme:"light"},e.yt=e.yt||{},t.targetLang,t.translateStatusHandler,t.modalRenderId)};class v{static Object=t=>new this(t).extraData();constructor(t){this.btnSelector=t.btnSelector||!1,this.btnClass=t.btnClass||!1,this.btnText=t.btnText||`Translate To ${t.targetLanguageLabel} (Beta)`,this.stringSelector=t.stringSelector||!1,this.progressBarSelector=t.progressBarSelector||!1,this.onStartTranslationProcess=t.onStartTranslationProcess||(()=>{}),this.onComplete=t.onComplete||(()=>{}),this.onLanguageError=t.onLanguageError||(()=>{}),this.onBeforeTranslate=t.onBeforeTranslate||(()=>{}),this.onAfterTranslate=t.onAfterTranslate||(()=>{}),this.sourceLanguage=t.sourceLanguage||"en",this.targetLanguage=t.targetLanguage||"hi",this.targetLanguageLabel=t.targetLanguageLabel||"Hindi",this.sourceLanguageLabel=t.sourceLanguageLabel||"English"}extraData=async()=>{const t=await v.languageSupportedStatus(this.sourceLanguage,this.targetLanguage,this.targetLanguageLabel,this.sourceLanguageLabel);return!0!==t?(this.onLanguageError(t),{}):(this.defaultLang=this.targetLanguage,{continueTranslation:this.continueTranslation,stopTranslation:this.stopTranslation,startTranslation:this.startTranslation,reInit:this.reInit,init:this.init})};static languageSupportedStatus=async(t,e,a,n)=>{const o=["en","es","ja","ar","de","bn","fr","hi","it","ko","nl","pl","pt","ru","th","tr","vi","zh","zh-hant","bg","cs","da","el","fi","hr","hu","id","iw","lt","no","ro","sk","sl","sv","uk","kn","ta","te","mr"].map((t=>t.toLowerCase())),r="https:"===window.location.protocol,s=window?.isSecureContext;if(!window.hasOwnProperty("chrome")||!navigator.userAgent.includes("Chrome")||navigator.userAgent.includes("Edg"))return jQuery('<span style="color: #ff4646; display: inline-block;">\n                <strong>Important Notice:</strong>\n                <ol>\n                    <li>The Translator API, which leverages Chrome local AI models, is designed specifically for use with the Chrome browser.</li>\n                    <li>For comprehensive information about the Translator API, <a href="https://developer.chrome.com/docs/ai/translator-api" target="_blank">click here</a>.</li>\n                </ol>\n                <p>Please ensure you are using the Chrome browser for optimal performance and compatibility.</p>\n            </span>');if(!("translation"in self&&"createTranslator"in self.translation||"ai"in self&&"translator"in self.ai||"Translator"in self&&"create"in self.Translator||r||s))return jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <strong>Important Notice:</strong>\n                <ol>\n                    <li>\n                        The Translator API is not functioning due to an insecure connection.\n                    </li>\n                    <li>\n                        Please switch to a secure connection (HTTPS) or add this URL to the list of insecure origins treated as secure by visiting \n                        <span data-clipboard-text="chrome://flags/#unsafely-treat-insecure-origin-as-secure" target="_blank" class="chrome-ai-translator-flags">\n                            chrome://flags/#unsafely-treat-insecure-origin-as-secure ${v.svgIcons("copy")}\n                        </span>.\n                        Click on the URL to copy it, then open a new window and paste this URL to access the settings.\n                    </li>\n                </ol>\n            </span>`);if(!("translation"in self&&"createTranslator"in self.translation||"ai"in self&&"translator"in self.ai||"Translator"in self&&"create"in self.Translator))return jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Steps to Enable the Translator AI Modal:</h4>\n                <ol>\n                    <li>Open this URL in a new Chrome tab: <strong><span data-clipboard-text="chrome://flags/#translation-api" target="_blank" class="chrome-ai-translator-flags">chrome://flags/#translation-api ${v.svgIcons("copy")}</span></strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>Ensure that the <strong>Experimental translation API</strong> option is set to <strong>Enabled</strong>.</li>\n                    <li>Click on the <strong>Save</strong> button to apply the changes.</li>\n                    <li>The Translator AI modal should now be enabled and ready for use.</li>\n                </ol>\n                <p>For more information, please refer to the <a href="https://developer.chrome.com/docs/ai/translator-api" target="_blank">documentation</a>.</p>   \n                <p>If the issue persists, please ensure that your browser is up to date and restart your browser.</p>\n                <p>If you continue to experience issues after following the above steps, please <a href="https://my.coolplugins.net/account/support-tickets/" target="_blank" rel="noopener">open a support ticket</a> with our team. We are here to help you resolve any problems and ensure a smooth translation experience.</p>\n            </span>`);if(!o.includes(e.toLowerCase()))return jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <strong>Language Support Information:</strong>\n                <ol>\n                    <li>The current version of Chrome AI Translator does not support the Target Language <strong>${a} (${e})</strong></li>\n                    <li>To view the list of supported languages, please <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">chrome://on-device-translation-internals ${v.svgIcons("copy")}</span>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>Ensure your Chrome browser is updated to the latest version for optimal performance.</li>\n                </ol>\n            </span>`);if(!o.includes(t.toLowerCase()))return jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <strong>Language Support Information:</strong>\n                <ol>\n                    <li>The current version of Chrome AI Translator does not support the Source Language <strong>${n} (${t})</strong></li>\n                    <li>To view the list of supported languages, please <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">chrome://on-device-translation-internals ${v.svgIcons("copy")}</span>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>Ensure your Chrome browser is updated to the latest version for optimal performance.</li>\n                </ol>\n            </span>`);const l=await v.languagePairAvality(t,e);return"after-download"===l||"downloadable"===l||"unavailable"===l?jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Installation Instructions for Language Packs:</h4>\n                <ol>\n                    <li>\n                        To proceed, please install the language pack for <strong>${a} (${e})</strong> or <strong>${n} (${t})</strong>.\n                    </li>\n                    <li>\n                        After installing the language pack, add this language to your browser's system languages in Chrome settings.<br>\n                        Go to <strong>Settings &gt; Languages &gt; Add languages</strong> and add <strong>${a}</strong> or <strong>${n}</strong> to your preferred languages list & reload the page.\n                    </li>\n                    <li>\n                        You can install it by visiting the following link: \n                        <strong>\n                            <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">\n                                chrome://on-device-translation-internals ${v.svgIcons("copy")}\n                            </span>\n                        </strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.\n                    </li>\n                    <li>\n                        Please check if both your source <strong>(<span style="color:#2271b1">${t}</span>)</strong> and target <strong>(<span style="color:#2271b1">${e}</span>)</strong> languages are available in the language packs list.\n                    </li>\n                    <li>\n                        You need to install both language packs for translation to work. You can search for each language by its language code: <strong>${t}</strong> and <strong>${e}</strong>.\n                    </li>\n                    <li>For more help, refer to the <a href="https://developer.chrome.com/docs/ai/translator-api#supported-languages" target="_blank">documentation to check supported languages</a>.</li>\n                </ol>\n            </span>`):"downloading"===l?jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Language Pack Download In Progress:</h4>\n                <ol>\n                    <li>\n                        The language pack for <strong>${a} (${e})</strong> or <strong>${n} (${t})</strong> is already being downloaded.\n                    </li>\n                    <li>\n                        <strong>You do not need to start the download again.</strong> Please wait for the download to complete. Once finished, the translation feature will become available automatically.\n                    </li>\n                    <li>\n                        You can check the download progress by opening:\n                        <strong>\n                            <span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">\n                                chrome://on-device-translation-internals ${v.svgIcons("copy")}\n                            </span>\n                        </strong>\n                        . Click on the URL to copy it, then open a new window and paste this URL in Chrome to view the status.\n                    </li>\n                    <li>\n                        <strong>What to do next:</strong>\n                        <ul style="margin-top: .5em;">\n                            <li>Wait for the download to finish. The status will change to <strong>Ready</strong> or <strong>Installed</strong> in the <strong>Language Packs</strong> section.</li>\n                            <li>After the language pack is installed, you may need to <strong>reload</strong> or <strong>restart</strong> your browser for the changes to take effect.</li>\n                        </ul>\n                    </li>\n                    <li>\n                        For more help, refer to the <a href="https://developer.chrome.com/docs/ai/translator-api#supported-languages" target="_blank">documentation to check supported languages</a>.\n                    </li>\n                </ol>\n                <div style="text-align: right;">\n                    <button onclick="location.reload()" class="atfpp-error-reload-btn">Reload Page</button>\n                </div>\n            </span>`):"readily"===l||"available"===l||jQuery(`<span style="color: #ff4646; display: inline-block;">\n                <h4>Language Pack Installation Required</h4>\n                <ol>\n                    <li>Please ensure that the language pack for <strong>${a} (${e})</strong> or <strong>${n} (${t})</strong> is installed and set as a preferred language in your browser.</li>\n                    <li>To install the language pack, visit <strong><span data-clipboard-text="chrome://on-device-translation-internals" target="_blank" class="chrome-ai-translator-flags">chrome://on-device-translation-internals ${v.svgIcons("copy")}</span></strong>. Click on the URL to copy it, then open a new window and paste this URL to access the settings.</li>\n                    <li>If you encounter any issues, please refer to the <a href="https://developer.chrome.com/docs/ai/translator-api#supported-languages" target="_blank">documentation to check supported languages</a> for further assistance.</li>\n                </ol>\n            </span>`)};static languagePairAvality=async(t,e)=>{if("translation"in self&&"createTranslator"in self.translation)return await self.translation.canTranslate({sourceLanguage:t,targetLanguage:e});if("ai"in self&&"translator"in self.ai){const a=await self.ai.translator.capabilities();return await a.languagePairAvailable(t,e)}return"Translator"in self&&"create"in self.Translator&&await self.Translator.availability({sourceLanguage:t,targetLanguage:e})};AITranslator=async t=>"translation"in self&&"createTranslator"in self.translation?await self.translation.createTranslator({sourceLanguage:this.sourceLanguage,targetLanguage:t}):"ai"in self&&"translator"in self.ai?await self.ai.translator.create({sourceLanguage:this.sourceLanguage,targetLanguage:t}):"Translator"in self&&"create"in self.Translator&&await self.Translator.create({sourceLanguage:this.sourceLanguage,targetLanguage:t});init=async()=>{this.appendBtn(),this.translationStart=!1,this.completedTranslateIndex=0,this.completedCharacterCount=0,this.translateBtnEvents(),this.progressBarSelector&&this.addProgressBar()};appendBtn=()=>{this.translateBtn=jQuery(`<button class="button button-primary${this.btnClass?" "+this.btnClass:""}">${this.btnText}</button>`),jQuery(this.btnSelector).append(this.translateBtn)};formatCharacterCount=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t;translateBtnEvents=t=>this.btnSelector&&0!==jQuery(this.btnSelector).length?this.stringSelector&&0!==jQuery(this.stringSelector).length?(this.translateStatus=!0,this.translateBtn.off("click"),this.translateBtn.prop("disabled",!1),void(this.translationStart?this.translateStringEle.length>this.completedTranslateIndex+1?this.translateBtn.on("click",(()=>{this.onStartTranslationProcess(),this.stringTranslation(this.completedTranslateIndex+1)})):(this.onComplete({translatedStringsCount:this.completedCharacterCount}),this.translateBtn.prop("disabled",!0)):this.translateBtn.on("click",this.startTranslationProcess))):this.onLanguageError("The string selector is missing. Please provide a valid selector for the strings to be translated."):this.onLanguageError("The button selector is missing. Please provide a valid selector for the button.");startTranslationProcess=async()=>{this.onStartTranslationProcess();const t=this.defaultLang;this.translationStart=!0,this.translateStringEle=jQuery(this.stringSelector),this.totalStringCount=Array.from(this.translateStringEle).map((t=>t.innerText.length)).reduce(((t,e)=>t+e),0),this.translator=await this.AITranslator(t),this.translateStringEle.length>0&&await this.stringTranslation(this.completedTranslateIndex)};stringTranslation=async t=>{if(!this.translateStatus)return;const e=this.translateStringEle[t];this.onBeforeTranslate(e);const a=e.innerText;let n=[];(e.childNodes.length>0&&!e.querySelector(".notranslate")||e.querySelector(".notranslate"))&&e.childNodes.forEach((t=>{3===t.nodeType&&""!==t.nodeValue.trim()&&n.push(t)})),n.length>0&&await this.stringTranslationBatch(n,0),this.completedCharacterCount+=a.length,this.completedTranslateIndex=t,this.progressBarSelector&&this.updateProgressBar(),this.onAfterTranslate(e),this.translateStringEle.length>t+1&&await this.stringTranslation(this.completedTranslateIndex+1),t===this.translateStringEle.length-1&&(this.translateBtn.prop("disabled",!0),this.onComplete({characterCount:this.completedCharacterCount}),jQuery(this.progressBarSelector).find(".chrome-ai-translator-strings-count").show().find(".totalChars").text(this.formatCharacterCount(this.completedCharacterCount)))};stringTranslationBatch=async(t,e)=>{const a=await this.translator.translate(t[e].nodeValue);return a&&""!==a&&(t[e].nodeValue=a),e<t.length-1&&await this.stringTranslationBatch(t,e+1),!0};addProgressBar=()=>{if(!document.querySelector("#chrome-ai-translator-modal .chrome-ai-translator_progress_bar")){const t=jQuery('\n                <div class="chrome-ai-translator_progress_bar" style="background-color: #f3f3f3;border-radius: 10px;overflow: hidden;margin: 1.5rem auto; width: 50%;">\n                <div class="chrome-ai-translator_progress" style="overflow: hidden;transition: width .5s ease-in-out; border-radius: 10px;text-align: center;width: 0%;height: 20px;box-sizing: border-box;background-color: #4caf50; color: #fff; font-weight: 600;"></div>\n                </div>\n                <div style="display:none; color: white;" class="chrome-ai-translator-strings-count hidden">\n                    Wahooo! You have saved your valuable time via auto translating \n                    <strong class="totalChars">0</strong> characters using \n                    <strong>\n                        Chrome AI Translator\n                    </strong>\n                </div>\n            ');jQuery(this.progressBarSelector).append(t)}};updateProgressBar=()=>{const t=this.completedCharacterCount/this.totalStringCount*1e3/10;let e=t.toString().split(".")[1]||"";e=e.length>0&&"0"!==e[0]?e[0]:"";const a=parseInt(t)+""+(""!==e?"."+e:"");jQuery(".chrome-ai-translator_progress").css({width:`${a}%`}).text(`${a}%`)};stopTranslation=()=>{this.translateStatus=!1};reInit=()=>{this.translateBtnEvents()};startTranslation=()=>{this.translateStatus=!0,this.startTranslationProcess(this.completedTranslateIndex+1)};static svgIcons=t=>({copy:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="16px" width="16px" xmlns="http://www.w3.org/2000/svg" fill="#2271b1"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg>'}[t]||"")}const w=v,T=async t=>{const e=atfp_global_object.languageObject[t.targetLang].name,a=atfp_global_object.languageObject[t.sourceLang].name,n=(0,l.select)("block-atfp/translate").getAllowedMetaFields(),{translateStatusHandler:o,translateStatus:r}=t;let s=0;const c=await w.Object({mainWrapperSelector:"#atfp_strings_model",btnSelector:`#${t.ID}`,btnClass:"local_ai_translator_btn",btnText:(0,i.__)("Translate To","autopoly-ai-translation-for-polylang")+" "+e+" (Beta)",stringSelector:".atfp_string_container tbody tr td.translate:not([data-translate-status='translated'])",progressBarSelector:"#atfp_strings_model .atfp_translate_progress",sourceLanguage:t.sourceLang,targetLanguage:t.targetLang,targetLanguageLabel:e,sourceLanguageLabel:a,onStartTranslationProcess:()=>{s=(new Date).getTime(),jQuery("#atfp_strings_model .modal-content .atfp_string_container")[0].scrollHeight>100&&jQuery("#atfp_strings_model .atfp_translate_progress").fadeIn("slow")},onComplete:()=>{g({prefix:"localAiTranslator",start:s,end:(new Date).getTime(),translateStatus:!0}),setTimeout((()=>{o(!1),jQuery("#atfp_strings_model .atfp_translate_progress").fadeOut("slow")}),4e3)},onBeforeTranslate:t=>{const e=jQuery("#atfp_strings_model .modal-content .atfp_string_container");if(e.length<1)return c.stopTranslation(),g({prefix:"localAiTranslator",start:s,end:(new Date).getTime()}),void(s=0);const a=e[0].getBoundingClientRect(),n=t.closest("tr").offsetTop,o=e.height();var r;n>o+a.y&&(r=n-o+t.offsetHeight,e.scrollTop(r))},onAfterTranslate:t=>{const e=t.innerText,a=t.dataset.stringType,o=t.dataset.key,r=t.closest("tr").querySelector('td[data-source="source_text"]').innerText;u({type:a,key:o,translateContent:e,source:r,provider:"localAiTranslator",AllowedMetaFields:n});const s=(0,l.select)("block-atfp/translate").getTranslationInfo().translateData?.localAiTranslator,i=s&&s.targetStringCount?s.targetStringCount:0,c=s&&s.targetWordCount?s.targetWordCount:0,p=s&&s.targetCharacterCount?s.targetCharacterCount:0;""!==e.trim()&&e.trim().length>0&&(0,l.dispatch)("block-atfp/translate").translationInfo({targetStringCount:i+r.trim().split(/(?<=[.!?]+)\s+/).length,targetWordCount:c+r.trim().split(/\s+/).filter((t=>/[^\p{L}\p{N}]/.test(t))).length,targetCharacterCount:p+r.trim().length,provider:"localAiTranslator"})}});if(c.hasOwnProperty("init")){c.init();const t=document.querySelector("#atfp_localAiTranslator_translate_element .local_ai_translator_btn");t&&r&&(t.disabled=r)}},S=t=>{t=t||{};const{Service:e=!1,openErrorModalHandler:a=()=>{}}=t,n=(window.atfp_global_object.admin_url,window.atfp_global_object.atfp_url+"assets/images/error-icon.svg"),o={yandex:{Provider:b,title:"Yandex Translate",SettingBtnText:"Translate",serviceLabel:"Yandex Translate",Docs:"https://docs.coolplugins.net/doc/yandex-translate-for-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_yandex",heading:(0,i.__)("Choose Language","autopoly-ai-translation-for-polylang"),BetaEnabled:!1,ButtonDisabled:t.yandexButtonDisabled,ErrorMessage:t.yandexButtonDisabled?React.createElement("div",{className:"atfp-provider-error button button-primary",onClick:()=>a("yandex")},React.createElement("img",{src:n,alt:"error"})," ",(0,i.__)("View Error","autopoly-ai-translation-for-polylang")):React.createElement(React.Fragment,null),Logo:"yandex.png"},localAiTranslator:{Provider:T,title:"Chrome Built-in AI",SettingBtnText:"Translate",serviceLabel:"Chrome AI Translator",heading:(0,i.sprintf)((0,i.__)("Translate Using %s","autopoly-ai-translation-for-polylang"),"Chrome built-in API"),Docs:"https://docs.coolplugins.net/doc/chrome-ai-translation-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_chrome",BetaEnabled:!0,ButtonDisabled:t.localAiTranslatorButtonDisabled,ErrorMessage:t.localAiTranslatorButtonDisabled?React.createElement("div",{className:"atfp-provider-error button button-primary",onClick:()=>a("localAiTranslator")},React.createElement("img",{src:n,alt:"error"})," ",(0,i.__)("View Error","autopoly-ai-translation-for-polylang")):React.createElement(React.Fragment,null),Logo:"chrome.png"},google:{title:"Google Translate",SettingBtnText:"Translate",serviceLabel:"Google Translate",Docs:"https://docs.coolplugins.net/doc/google-translate-for-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_google",heading:(0,i.__)("Choose Language","autopoly-ai-translation-for-polylang"),BetaEnabled:!1,ButtonDisabled:!0,ErrorMessage:React.createElement("a",{className:"atfp-provider-error button button-primary",href:(window.atfp_global_object.pro_version_url||"")+"?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_google",target:"_blank"},(0,i.__)("Buy Pro","autopoly-ai-translation-for-polylang")),Logo:"google.png"},openai_ai:{title:"OpenAI Model",SettingBtnText:"Translate",serviceLabel:"OpenAI",heading:(0,i.sprintf)((0,i.__)("Translate Using %s Model","autopoly-ai-translation-for-polylang"),"OpenAI"),Docs:"https://docs.coolplugins.net/doc/translate-via-open-ai-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_openai",BetaEnabled:!0,ButtonDisabled:!0,ErrorMessage:React.createElement("a",{className:"atfp-provider-error button button-primary",href:(window.atfp_global_object.pro_version_url||"")+"?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_openai",target:"_blank"},(0,i.__)("Buy Pro","autopoly-ai-translation-for-polylang")),Logo:"openai.png",filterHtmlContent:!0},google_ai:{title:"Gemini Model",SettingBtnText:"Translate",serviceLabel:"Gemini",heading:(0,i.sprintf)((0,i.__)("Translate Using %s Model","autopoly-ai-translation-for-polylang"),"Gemini"),Docs:"https://docs.coolplugins.net/doc/translate-via-gemini-ai-polylang/?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=docs&utm_content=popup_gemini",BetaEnabled:!0,ButtonDisabled:!0,ErrorMessage:React.createElement("a",{className:"atfp-provider-error button button-primary",href:(window.atfp_global_object.pro_version_url||"")+"?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup_gemini",target:"_blank"},(0,i.__)("Buy Pro","autopoly-ai-translation-for-polylang")),Logo:"gemini.png",filterHtmlContent:!0}};return e?o[e]:o},k=t=>{const{service:e}=t,a=(0,l.select)("block-atfp/translate").getTranslationEntry(),n=t.stringModalBodyNotice;return(0,p.useEffect)((()=>{["yandex"].includes(t.service)&&(document.documentElement.setAttribute("translate","no"),document.body.classList.add("notranslate"));const e=t.service,a=`atfp_${e}_translate_element`;wp.data.select("block-atfp/translate").getTranslationEntry().length>0&&t.postDataFetchStatus&&S({Service:e}).Provider({sourceLang:t.sourceLang,targetLang:t.targetLang,translateStatusHandler:t.translateStatusHandler,ID:a,translateStatus:t.translateStatus,modalRenderId:t.modalRender,destroyUpdateHandler:t.updateDestroyHandler})}),[t.modalRender,t.postDataFetchStatus]),React.createElement("div",{className:"modal-body"},a.length>0&&t.postDataFetchStatus?React.createElement(React.Fragment,null,n&&React.createElement("div",{className:"atfp-body-notice-wrapper"},React.createElement(n,null)),React.createElement("div",{className:"atfp_translate_progress",key:t.modalRender},(0,i.__)("Automatic translation is in progress....","autopoly-ai-translation-for-polylang"),React.createElement("br",null),(0,i.__)("It will take few minutes, enjoy â˜• coffee in this time!","autopoly-ai-translation-for-polylang"),React.createElement("br",null),React.createElement("br",null),(0,i.__)("Please do not leave this window or browser tab while translation is in progress...","autopoly-ai-translation-for-polylang")),React.createElement("div",{className:`translator-widget ${e}`,style:{display:"flex"}},React.createElement("h3",{className:"choose-lang"},S({Service:t.service}).heading," ",React.createElement("span",{className:"dashicons-before dashicons-translation"})),React.createElement("div",{className:"atfp_translate_element_wrapper "+(t.translateStatus?"translate-completed":"")},React.createElement("div",{id:`atfp_${t.service}_translate_element`}))),React.createElement("div",{className:"atfp_string_container"},React.createElement("table",{className:"scrolldown",id:"stringTemplate"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"notranslate"},(0,i.__)("S.No","autopoly-ai-translation-for-polylang")),React.createElement("th",{className:"notranslate"},(0,i.__)("Source Text","autopoly-ai-translation-for-polylang")),React.createElement("th",{className:"notranslate"},(0,i.__)("Translation","autopoly-ai-translation-for-polylang")))),React.createElement("tbody",null,t.postDataFetchStatus&&React.createElement(React.Fragment,null,a.map(((e,a)=>React.createElement(s.Fragment,{key:a+t.translatePendingStatus},void 0!==e.source&&""!==e.source.trim()&&React.createElement(React.Fragment,null,React.createElement("tr",{key:a+"tr"+t.translatePendingStatus},React.createElement("td",null,a+1),React.createElement("td",{"data-source":"source_text"},e.source),t.translatePendingStatus?React.createElement("td",{className:"translate",translate:"yes","data-key":e.id,"data-string-type":e.type},React.createElement(d,{service:t.service,content:e.source,contentKey:e.id})):React.createElement("td",{className:"translate","data-translate-status":"translated","data-key":e.id,"data-string-type":e.type},e.translatedData[t.service]))))))))))):t.postDataFetchStatus?React.createElement("p",null,(0,i.__)("No strings are available for translation","autopoly-ai-translation-for-polylang")):React.createElement("div",{className:"atfp-skeleton-loader-wrapper"},React.createElement("div",{className:"translate-widget"},React.createElement("div",{className:"atfp-skeleton-loader-mini"}),React.createElement("div",{className:"atfp-skeleton-loader-mini"})),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"notranslate"},(0,i.__)("S.No","autopoly-ai-translation-for-polylang")),React.createElement("th",{className:"notranslate"},(0,i.__)("Source Text","autopoly-ai-translation-for-polylang")),React.createElement("th",{className:"notranslate"},(0,i.__)("Translation","autopoly-ai-translation-for-polylang")))),React.createElement("tbody",null,[...Array(10)].map(((t,e)=>React.createElement("tr",{key:e},React.createElement("td",null,React.createElement("div",{className:"atfp-skeleton-loader-mini"})),React.createElement("td",null,React.createElement("div",{className:"atfp-skeleton-loader-mini"})),React.createElement("td",null,React.createElement("div",{className:"atfp-skeleton-loader-mini"})))))))))},E=t=>React.createElement("div",{className:`notice inline notice-info is-dismissible ${t.className}`},Array.isArray(t.children)?t.children.join(" "):t.children),C=t=>React.createElement("div",{className:"modal-footer",key:t.modalRender},!t.translatePendingStatus&&React.createElement(E,{className:"atfp_string_count"},React.createElement("p",null,(0,i.__)("Wahooo! You have saved your valuable time via auto translating","autopoly-ai-translation-for-polylang")," ",React.createElement("strong",null,React.createElement(m,{number:t.characterCount}))," ",(0,i.__)("characters using","autopoly-ai-translation-for-polylang")," ",React.createElement("strong",null,t.serviceLabel),".",(0,i.__)("Please share your feedback â€”","autopoly-ai-translation-for-polylang"),React.createElement("a",{href:"https://wordpress.org/support/plugin/automatic-translations-for-polylang/reviews/#new-post",target:"_blank",rel:"noopener",style:{color:"yellow"}},(0,i.__)("leave a quick review","autopoly-ai-translation-for-polylang")),"!")),React.createElement("div",{className:"save_btn_cont"},React.createElement("button",{className:"notranslate save_it button button-primary",disabled:t.translatePendingStatus,onClick:t.updatePostData},(0,i.__)("Update Content","autopoly-ai-translation-for-polylang"))));function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},R.apply(null,arguments)}const L=t=>{let e=t.service;const a=(0,l.select)("block-atfp/translate").getTranslationInfo().translateData[e]||!1,n=a?.translateStatus||!1,[o,r]=(0,s.useState)(!0),[i,p]=(0,s.useState)(""),[d,u]=(0,s.useState)(!0),[g,m]=(0,s.useState)(a?.targetCharacterCount||0),[f,h]=(0,s.useState)([]),_=t=>{h((e=>[...e,t]))};(0,s.useEffect)((()=>{o||f.length>0&&f.forEach((t=>{"function"==typeof t&&t()}))}),[o,f]);const y=()=>{const e=t.service;return"localAiTranslator"===e?"Chrome AI Translator":e.replace(/^\w/,(t=>t.toUpperCase()))+" Translate"};(0,s.useEffect)((()=>{t.postDataFetchStatus||t.fetchPostData({postId:t.postId,sourceLang:t.sourceLang,targetLang:t.targetLang,updatePostDataFetch:t.updatePostDataFetch,refPostData:t=>p(t),updateDestroyHandler:_})}),[t.postDataFetchStatus,t.modalRender]);const b=e=>{"yandex"===t.service&&document.querySelector("#atfp_yandex_translate_element #yt-widget .yt-button__icon.yt-button__icon_type_right")?.click(),u(!0),r(!1)},v=()=>{const e=i;let a=t.service;t.translatePost({postContent:e,modalClose:()=>r(!1),service:a}),t.pageTranslate(!0),(({provider:t,sourceLang:e,targetLang:a,postId:n})=>{const o=(0,l.select)("block-atfp/translate").getTranslationInfo(),r=o.translateData?.[t]?.targetStringCount||0,s=o.translateData?.[t]?.targetWordCount||0,i=o.translateData?.[t]?.targetCharacterCount||0,c=o.translateData?.[t]?.timeTaken||0,p=o?.sourceWordCount||0,d=o?.sourceCharacterCount||0,u=o?.sourceStringCount||0,g={provider:t,totalStringCount:r,totalWordCount:s,totalCharacterCount:i,editorType:atfp_global_object.editor_type,date:(new Date).toISOString(),sourceStringCount:u,sourceWordCount:p,sourceCharacterCount:d,sourceLang:e,targetLang:a,timeTaken:c,action:atfp_global_object.update_translate_data,atfp_nonce:atfp_global_object.ajax_nonce,post_id:n};fetch(atfp_global_object.ajax_url,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:new URLSearchParams(g)}).then((t=>t.json())).then((t=>{console.log(t.data.message)})).catch((t=>{console.error(t)}))})({provider:a,sourceLang:t.sourceLang,targetLang:t.targetLang,postId:t.currentPostId})};return(0,s.useEffect)((()=>{r(!0),n&&(m(a?.targetCharacterCount||0),u(!1)),setTimeout((()=>{const t=document.querySelector(".atfp_string_container");t&&(t.scrollTop=0)}))}),[t.modalRender]),React.createElement(React.Fragment,null," ",o&&React.createElement("div",{id:`atfp-${t.service}-strings-modal`,className:"modal-container",style:{display:o?"flex":"none"},"data-render-id":t.modalRender},React.createElement("div",{className:"modal-content"},React.createElement(c,{modalRender:t.modalRender,setPopupVisibility:b,postContent:i,translatePendingStatus:d,pageTranslate:t.pageTranslate,service:t.service,serviceLabel:y(),updatePostData:v,characterCount:g}),React.createElement(k,R({},t,{updatePostContent:t=>{p(t)},contentLoading:t.contentLoading,postDataFetchStatus:t.postDataFetchStatus,translatePendingStatus:d,service:t.service,sourceLang:t.sourceLang,targetLang:t.targetLang,translateStatusHandler:e=>{let a=t.service;const n=(0,l.select)("block-atfp/translate").getTranslationInfo().translateData[a]?.targetCharacterCount||0;m(n),u(e)},modalRender:t.modalRender,translateStatus:n,stringModalBodyNotice:t.stringModalBodyNotice,updateDestroyHandler:_})),React.createElement(C,{modalRender:t.modalRender,setPopupVisibility:b,postContent:i,translatePendingStatus:d,pageTranslate:t.pageTranslate,service:t.service,serviceLabel:y(),updatePostData:v,characterCount:g}))))},x=({setSettingVisibility:t})=>React.createElement("div",{className:"modal-header"},React.createElement("h2",null,(0,i.__)("Step 1 - Select Translation Provider","autopoly-ai-translation-for-polylang")),React.createElement("span",{className:"close",onClick:()=>t(!1)},"Ã—")),j=t=>{const e=t.Service,a=t[e+"Disabled"],n=S({Service:e,[e+"ButtonDisabled"]:a,openErrorModalHandler:t.openErrorModalHandler}),o=`atfp-${e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/[^a-z0-9-]/g,"")}-btn`;return React.createElement("tr",null,React.createElement("td",{className:"atfp-provider-name"},React.createElement("img",{src:`${t.imgFolder}${n.Logo}`,alt:n.title}),React.createElement("span",null,n.title)),React.createElement("td",null,n.ButtonDisabled?n.ErrorMessage:React.createElement("div",{id:o,onClick:t.fetchContent,className:"atfp-service-btn button button-primary","data-service":e,"data-service-label":n.ServiceLabel},n.SettingBtnText)),React.createElement("td",null,React.createElement("a",{href:n.Docs,target:"_blank",rel:"noopener noreferrer",className:"atfp-doc-icon"},React.createElement("svg",{width:"9",height:"12",viewBox:"0 0 9 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M2.17607 6.20533H6.82393V5.53867H2.17607V6.20533ZM2.17607 8.05133H6.82393V7.38467H2.17607V8.05133ZM2.17607 9.898H4.89536V9.23133H2.17607V9.898ZM1.03821 12C0.7425 12 0.495643 11.8973 0.297643 11.692C0.0996427 11.4867 0.000428571 11.2304 0 10.9233V1.07667C0 0.77 0.0992142 0.514 0.297643 0.308667C0.496071 0.103333 0.743143 0.000444444 1.03886 0H6.10714L9 3V10.9233C9 11.23 8.901 11.4862 8.703 11.692C8.505 11.8978 8.25771 12.0004 7.96114 12H1.03821ZM5.78571 3.33333V0.666667H1.03886C0.939857 0.666667 0.849 0.709333 0.766286 0.794666C0.683571 0.88 0.642429 0.974 0.642857 1.07667V10.9233C0.642857 11.0256 0.684 11.1196 0.766286 11.2053C0.848571 11.2911 0.939214 11.3338 1.03821 11.3333H7.96179C8.06036 11.3333 8.151 11.2907 8.23371 11.2053C8.31643 11.12 8.35757 11.0258 8.35714 10.9227V3.33333H5.78571Z",fill:"#6F6F6F"})))))};function A(){return A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},A.apply(null,arguments)}const N=t=>{const e=S();return React.createElement("div",{className:"atfp-setting-modal-body"},React.createElement("div",{className:"atfp-setting-modal-notice-wrapper"}),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Translate"),React.createElement("th",null,"Docs"))),React.createElement("tbody",null,Object.keys(e).map((e=>React.createElement(j,A({key:e},t,{Service:e})))))))},D=t=>{const{targetLangName:e,postType:a,sourceLangName:n,setSettingVisibility:o}=t;return React.createElement("div",{className:"modal-footer"},React.createElement("p",{className:"atfp-error-message",style:{marginBottom:".5rem"}},sprintf((0,i.__)("This will replace your current %(postType)s with a %(target)s translation of the original %(source)s content.","autopoly-ai-translation-for-polylang"),{postType:a,source:n,target:e})),React.createElement("button",{className:"atfp-setting-close button button-primary",onClick:()=>o(!1)},(0,i.__)("Close","autopoly-ai-translation-for-polylang")))},P=({message:t,onClose:e,Title:a})=>{let n=jQuery("<div>").append(t);const o=n.html();return n.remove(),n=null,(0,s.useEffect)((()=>{const t=document.querySelectorAll(".chrome-ai-translator-flags");if(t.length>0)return t.forEach((t=>{t.classList.add("atfp-tooltip-element"),t.addEventListener("click",(e=>{if(e.preventDefault(),t.querySelector(".atfp-tooltip"))return;let a=document.createElement("span");a.textContent="Text to be copied.",a.className="atfp-tooltip",t.appendChild(a),(async({text:t=!1,startCopyStatus:e=()=>{},endCopyStatus:a=()=>{}})=>{if(t&&""!==t)try{if(navigator?.clipboard?.writeText)await navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand&&document.execCommand("copy"),document.body.removeChild(e)}e(),setTimeout((()=>a()),800)}catch(t){console.error("Error copying text to clipboard:",t)}})({text:t.getAttribute("data-clipboard-text"),startCopyStatus:()=>{a.classList.add("atfp-tooltip-active")},endCopyStatus:()=>{setTimeout((()=>{a.remove()}),800)}})}))})),()=>{t.forEach((t=>{t.removeEventListener("click",(()=>{}))}))}}),[]),React.createElement("div",{className:"atfp-error-modal-box-container"},React.createElement("div",{className:"atfp-error-modal-box"},React.createElement("div",{className:"atfp-error-modal-box-header"},React.createElement("span",{className:"atfp-error-modal-box-close",onClick:e},"Ã—"),a&&React.createElement("h3",null,a)),React.createElement("div",{className:"atfp-error-modal-box-body"},React.createElement("p",{dangerouslySetInnerHTML:{__html:o}})),React.createElement("div",{className:"atfp-error-modal-box-footer"},React.createElement("button",{className:"atfp-error-modal-box-close button button-primary",onClick:e},"Close"))))};function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},I.apply(null,arguments)}const F=t=>{const[e,a]=(0,s.useState)({}),[n,o]=(0,s.useState)(0),[l,c]=(0,s.useState)(!1),p=atfp_global_object.source_lang,d=t.targetLang,u=atfp_global_object.languageObject[p].name,g=atfp_global_object.languageObject[d].name,m=atfp_global_object.atfp_url+"assets/images/",f=["af","am","ar","az","ba","be","bg","bn","bs","ca","ceb","cs","cv","cy","da","de","el","emj","en","eo","es","et","eu","fa","fi","fr","ga","gd","gl","gu","he","hi","hr","ht","hu","hy","id","is","it","ja","jv","ka","kazlat","kk","km","kn","ko","ky","la","lb","lo","lt","lv","mg","mhr","mi","mk","ml","mn","mr","mrj","ms","mt","my","ne","nl","no","pa","pap","pl","pt","pt-BR","ro","ru","sah","si","sk","sl","sq","sr","sr-Latn","su","sv","sw","ta","te","tg","th","tl","tr","tt","udm","uk","ur","uz","uzbcyr","vi","xh","yi","zh","zu"].includes(d),[h,_]=(0,s.useState)({}),[y,b]=(0,s.useState)(!1),[v,T]=(0,s.useState)(!1),S=t=>{t.preventDefault();const e=t.target;"yes"===e.dataset.value&&c(!0),e.closest("#atfp-modal-open-warning-wrapper").remove()};(0,s.useEffect)((()=>{const e=document.querySelectorAll("#atfp-modal-open-warning-wrapper .modal-content div[data-value]"),a=document.querySelector(t.translateWrpSelector);a&&a.addEventListener("click",(t=>{t.preventDefault(),c((t=>!t))})),e.forEach((t=>{t&&t.addEventListener("click",S)}))}),[]),(0,s.useEffect)((()=>{l&&(f||_((t=>({...t,yandex:{message:"<p style={{ fontSize: '1rem', color: '#ff4646' }}>"+(0,i.sprintf)((0,i.__)("Yandex Translate does not support the target language: %s.","autopoly-ai-translation-for-polylang"),"<strong>"+g+"</strong>")+"</p>",Title:(0,i.__)("Yandex Translate","autopoly-ai-translation-for-polylang")}}))),(async()=>{const t=await w.languageSupportedStatus(p,d,g,u),e=document.querySelector(".atfp-service-btn#atfp-local-ai-translator-btn");!0!==t&&"object"==typeof t&&e&&(T(!0),_((e=>({...e,localAiTranslator:{message:t,Title:(0,i.__)("Chrome AI Translator","autopoly-ai-translation-for-polylang")}}))))})())}),[l]),(0,s.useEffect)((()=>{const a=e,o=a.dataset&&a.dataset.service,s=a.dataset&&a.dataset.serviceLabel,l=t.postId,i=document.getElementById("atfp_strings_model");i&&(i._reactRoot||(i._reactRoot=r.createRoot(i)),n&&i._reactRoot.render(React.createElement(L,{currentPostId:t.currentPostId,postId:l,service:o,serviceLabel:s,sourceLang:p,targetLang:d,modalRender:n,pageTranslate:t.pageTranslate,postDataFetchStatus:t.postDataFetchStatus,fetchPostData:t.fetchPostData,translatePost:t.translatePost,contentLoading:t.contentLoading,updatePostDataFetch:t.updatePostDataFetch,stringModalBodyNotice:t.stringModalBodyNotice})))}),[t.postDataFetchStatus,n]);const k=t=>{c(t)};return React.createElement(React.Fragment,null,y&&h[y]&&React.createElement(P,I({onClose:()=>{b(!1)}},h[y])),l&&React.createElement("div",{className:"modal-container",style:{display:l?"flex":"none"}},React.createElement("div",{className:"atfp-settings modal-content"},React.createElement(x,{setSettingVisibility:k,postType:t.postType,sourceLangName:u,targetLangName:g}),React.createElement(N,{yandexDisabled:!f,fetchContent:async t=>{let e=t.target.classList.contains("atfp-service-btn")?t.target:t.target.closest(".atfp-service-btn");if(!e)return;const n=e.dataset&&e.dataset.service;if(c(!1),"localAiTranslator"===n){const t=await w.languageSupportedStatus(p,d,g);if(!0!==t&&"object"==typeof t)return}o((t=>t+1)),a(e)},imgFolder:m,targetLangName:g,postType:t.postType,sourceLangName:u,localAiTranslatorDisabled:v,openErrorModalHandler:t=>{c(!1),b(t)}}),React.createElement(D,{targetLangName:g,postType:t.postType,sourceLangName:u,setSettingVisibility:k}))))},B="SAVE_SOURCE_TITLE",$="SAVE_TRANSLATE_TITLE",O="SAVE_SOURCE_EXCERPT",M="SAVE_TRANSLATE_EXCERPT",H="SAVE_SOURCE_CONTENT",V="SAVE_TRANSLATE_CONTENT",q="SAVE_SOURCE_META_FIELDS",W="SAVE_TRANSLATE_META_FIELDS",Q="SET_BLOCK_RULES",U="SAVE_TRANSLATE_INFO",z="ALLOWED_META_FIELDS",Y={title:{},excerpt:{},content:[],metaFields:{},allowedMetaFields:{}},G=t=>({type:B,text:t}),Z=(t,e)=>({type:$,text:t,provider:e}),K=t=>({type:O,text:t}),X=(t,e)=>({type:M,text:t,provider:e}),J=(t,e)=>({type:H,text:e,id:t}),tt=(t,e,a,n)=>({type:V,text:e,id:t,source:a,provider:n}),et=(t,e)=>({type:q,text:e,id:t}),at=(t,e,a,n)=>({type:W,text:e,id:t,source:a,provider:n}),nt=t=>({type:Q,data:t}),ot=({sourceStringCount:t=null,sourceWordCount:e=null,sourceCharacterCount:a=null,timeTaken:n=null,provider:o=null,targetStringCount:r=null,targetWordCount:s=null,targetCharacterCount:l=null,translateStatus:i=null})=>({type:U,sourceStringCount:t,sourceWordCount:e,sourceCharacterCount:a,timeTaken:n,targetStringCount:r,targetWordCount:s,targetCharacterCount:l,provider:o,translateStatus:i}),rt=({id:t,type:e})=>({type:z,id:t,inputType:e}),st=t=>{const e=new Array;return t.title.source&&e.push({id:"title",source:t.title.source,type:"title",translatedData:t.title.translatedData||{}}),t.excerpt.source&&e.push({id:"excerpt",source:t.excerpt.source,type:"excerpt",translatedData:t.excerpt.translatedData||{}}),Object.keys(t.metaFields).map((a=>{e.push({type:"metaFields",id:a,source:t.metaFields[a].source,translatedData:t.metaFields[a].translatedData||{}})})),Object.keys(t.content).map((a=>{e.push({type:"content",id:a,source:t.content[a].source,translatedData:t.content[a].translatedData||{}})})),e},lt=t=>t.blockRules,it=(t,e,a,n=null,o=null)=>["title","excerpt"].includes(e)&&t[e].source===a&&t[e].translatedData&&t[e].translatedData[o]?t[e]?.translatedData[o]||t[e]?.source:"metaFields"===e&&t.metaFields&&t.metaFields[n]&&t.metaFields[n].source===a&&t.metaFields[n].translatedData&&t.metaFields[n].translatedData[o]?void 0!==t.metaFields[n]?.translatedData[o]?t.metaFields[n]?.translatedData[o]:t.metaFields[n]?.source:"content"===e&&t.content&&t.content[n]&&t.content[n].source===a&&t.content[n].translatedData&&t.content[n].translatedData[o]?void 0!==t.content[n]?.translatedData[o]?t.content[n]?.translatedData[o]:t.content[n]?.source:a,ct=t=>({sourceStringCount:t?.translationInfo?.sourceStringCount||0,sourceWordCount:t?.translationInfo?.sourceWordCount||0,sourceCharacterCount:t?.translationInfo?.sourceCharacterCount||0,translateData:t?.translationInfo?.translateData||{}}),pt=t=>t.allowedMetaFields||{},{createReduxStore:dt,register:ut}=wp.data;ut(dt("block-atfp/translate",{reducer:(t=Y,e)=>{switch(e.type){case B:return/[\p{L}\p{N}]/gu.test(e.text)?{...t,title:{...t.title,source:e.text}}:t;case $:return{...t,title:{...t.title,translatedData:{...t.title.translatedData||[],[e.provider]:e.text}}};case O:return/[\p{L}\p{N}]/gu.test(e.text)?{...t,excerpt:{...t.excerpt,source:e.text}}:t;case M:return{...t,excerpt:{...t.excerpt,translatedData:{...t.excerpt.translatedData||[],[e.provider]:e.text}}};case H:return/[\p{L}\p{N}]/gu.test(e.text)?{...t,content:{...t.content,[e.id]:{...t.content[e.id]||[],source:e.text}}}:t;case V:return t.content[e.id].source===e.source?{...t,content:{...t.content,[e.id]:{...t.content[e.id]||[],translatedData:{...t.content[e.id].translatedData||[],[e.provider]:e.text}}}}:t;case q:return/[\p{L}\p{N}]/gu.test(e.text)?{...t,metaFields:{...t.metaFields,[e.id]:{...t.metaFields[e.id]||[],source:e.text}}}:t;case W:return{...t,metaFields:{...t.metaFields,[e.id]:{...t.metaFields[e.id]||[],translatedData:{...t.metaFields[e.id].translatedData||[],[e.provider]:e.text}}}};case Q:return{...t,blockRules:e.data};case U:const a={};return e.sourceStringCount&&(a.sourceStringCount=e.sourceStringCount),e.sourceWordCount&&(a.sourceWordCount=e.sourceWordCount),e.sourceCharacterCount&&(a.sourceCharacterCount=e.sourceCharacterCount),(e.targetWordCount||e.targetCharacterCount||e.translateStatus||e.timeTaken)&&e.provider&&(a.translateData={...t.translationInfo?.translateData||{},[e.provider]:{...t.translationInfo?.translateData?.[e.provider]||{},...e.targetStringCount&&{targetStringCount:e.targetStringCount},...e.targetWordCount&&{targetWordCount:e.targetWordCount},...e.targetCharacterCount&&{targetCharacterCount:e.targetCharacterCount},...e.translateStatus&&{translateStatus:e.translateStatus},...e.timeTaken&&{timeTaken:e.timeTaken}}}),{...t,translationInfo:{...t.translationInfo,...a}};case z:return{...t,allowedMetaFields:{...t.allowedMetaFields,[e.id]:{...t.allowedMetaFields[e.id]||[],inputType:e.inputType}}};default:return t}},actions:n,selectors:o}));const gt=(t,e,a,n)=>{const o=(t,e)=>{Object.keys(e).map((a=>{let o=e;o=o[a];const r=new Array(...t,a);n(r,o)}))};Object.getPrototypeOf(e)===Array.prototype?((t,e)=>{const r=new Array(...t);let s=a;r.forEach((t=>{s=s[t]})),[null,void 0].includes(s)||(Object.getPrototypeOf(s)!==Object.prototype?(Object.getPrototypeOf(s)===Array.prototype&&s.forEach(((t,a)=>{const o=new Array;r.forEach((t=>{o.push(t)})),o.push(a),n(o,e[0])})),"object"!=typeof s||o(t,e[0])):o(t,e[0]))})(t,e):Object.getPrototypeOf(e)===Object.prototype&&o(t,e)},mt=(t,e)=>{Object.keys(e.AtfpBlockParseRules).includes(t.name)&&((t,e,a)=>{const n=Object.values(a),o=(a,n)=>{if(!0!==n)gt(a,n,e,o);else{const n=new Array(...a),o=new Array;let r=e,s=t;n.forEach((t=>{o.push(t),s+=`atfp${t}`,r=r[t]}));let i=r;if(i instanceof wp.richText.RichTextData&&(i=i.originalHTML),void 0!==i&&""!==i.trim()){let t=s.replace(/[^\p{L}\p{N}]/gu,"");if(!/[\p{L}\p{N}]/gu.test(i))return!1;(0,l.dispatch)("block-atfp/translate").contentSaveSource(t,i)}}};n.forEach((t=>{Object.keys(t).forEach((e=>{const a=new Array(e);o(a,t[e])}))}))})(t.clientId,t.attributes,e.AtfpBlockParseRules[t.name])},ft=(t,e)=>{t.forEach((t=>{mt(t,e),t.innerBlocks&&ft(t.innerBlocks,e)}))},ht=window.wp.blocks,_t={_yoast_wpseo_title:{type:"string"},_yoast_wpseo_focuskw:{type:"string"},_yoast_wpseo_metadesc:{type:"string"},_yoast_wpseo_bctitle:{type:"string"},"_yoast_wpseo_opengraph-title":{type:"string"},"_yoast_wpseo_opengraph-description":{type:"string"},"_yoast_wpseo_twitter-title":{type:"string"},"_yoast_wpseo_twitter-description":{type:"string"},rank_math_title:{type:"string"},rank_math_description:{type:"string"},rank_math_focus_keyword:{type:"string"},rank_math_facebook_title:{type:"string"},rank_math_facebook_description:{type:"string"},rank_math_twitter_title:{type:"string"},rank_math_twitter_description:{type:"string"},rank_math_breadcrumb_title:{type:"string"},_seopress_titles_title:{type:"string"},_seopress_titles_desc:{type:"string"},_seopress_social_fb_title:{type:"string"},_seopress_social_fb_desc:{type:"string"},_seopress_social_twitter_title:{type:"string"},_seopress_social_twitter_desc:{type:"string"},_seopress_analysis_target_kw:{type:"string"}},yt=async t=>{const e=atfp_global_object.ajax_url;let a={};const n=t=>{(0,l.dispatch)("block-atfp/translate").allowedMetaFields(t)};Object.keys(_t).forEach((t=>{n({id:t,type:_t[t].type})})),(()=>{const t="true"===atfp_global_object.postMetaSync;if(window.acf&&!t){const t=["text","textarea","wysiwyg"];acf.getFields().forEach((e=>{e.data&&t.includes(e.data.type)&&n({id:e.data.key,type:e.data.type})}))}})();const o={atfp_nonce:atfp_global_object.ajax_nonce,action:atfp_global_object.action_block_rules};await fetch(e,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:new URLSearchParams(o)}).then((t=>t.json())).then((t=>{a=JSON.parse(t.data.blockRules),(0,l.dispatch)("block-atfp/translate").setBlockRules(a)})).catch((t=>{console.error("Error fetching post content:",t)}));const r={postId:parseInt(t.postId),local:t.targetLang,current_local:t.sourceLang,atfp_nonce:atfp_global_object.ajax_nonce,action:atfp_global_object.action_fetch};await fetch(e,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:new URLSearchParams(r)}).then((t=>t.json())).then((e=>{const n=e.data;n.content&&""!==n.content.trim()&&(n.content=(0,ht.parse)(n.content)),((t,e)=>{const a=(0,l.select)("block-atfp/translate").getAllowedMetaFields();Object.keys(t).forEach((n=>{if("content"===n)((t,e)=>{Object.values(t).forEach((t=>{mt(t,e),t.innerBlocks&&ft(t.innerBlocks,e)}))})(t[n],e);else if("metaFields"===n)Object.keys(t[n]).forEach((e=>{Object.keys(a).includes(e)&&"string"===a[e].inputType&&""!==t[n][e][0]&&void 0!==t[n][e][0]&&(0,l.dispatch)("block-atfp/translate").metaFieldsSaveSource(e,t[n][e][0])})),window.acf&&acf.getFields().forEach((e=>{if(e.data&&a[e.data.key]){const a=e.data.name,o=acf.getField(e.data.key)?.val();t[n]&&t[n][a]?""!==t[n][a]&&void 0!==t[n][a]&&(0,l.dispatch)("block-atfp/translate").metaFieldsSaveSource(e.data.key,t[n][a][0]):o&&""!==o&&void 0!==o&&(0,l.dispatch)("block-atfp/translate").metaFieldsSaveSource(e.data.key,o)}}));else if(["title","excerpt"].includes(n)&&t[n]&&""!==t[n].trim()){const e=`${n}SaveSource`;(0,l.dispatch)("block-atfp/translate")[e](t[n])}}))})(n,a),t.refPostData(n),t.updatePostDataFetch(!0)})).catch((t=>{console.error("Error fetching post content:",t)}))},bt=(t,e,a,n)=>{const{createBlock:o}=wp.blocks,{name:r,attributes:s}=t;let l={...s},i=t,c="";return Object.keys(a.AtfpBlockParseRules).includes(t.name)&&(i=((t,e,a)=>{const{select:n}=wp.data,o=Object.values(e),r=t.attributes,s=t.clientId,l=(e,o)=>{if(!0!==o)gt(e,o,r,l);else{const o=new Array(...e),l=new Array;let i=r,c=s;o.forEach((t=>{l.push(t),c+=`atfp${t}`,i=i[t]}));let p=i;if(p instanceof wp.richText.RichTextData&&(p=p.originalHTML),void 0!==p&&""!==p.trim()){let e=c.replace(/[^\p{L}\p{N}]/gu,""),r="";r=/[\p{L}\p{N}]/gu.test(p)?n("block-atfp/translate").getTranslatedString("content",p,e,a):p,t.attributes=((t,e,a)=>{const n={...t};let o=n;for(let t=0;t<e.length-1;t++)Object.getPrototypeOf(o[e[t]])===Array.prototype?o[e[t]]=[...o[e[t]]]:o[e[t]]={...o[e[t]]},o=o[e[t]];return o[e[e.length-1]]instanceof wp.richText.RichTextData?o[e[e.length-1]]=a.replace(/(?<!\\)"|\\"/g,"'"):o[e[e.length-1]]=a,n})(t.attributes,o,r)}}};return o.forEach((t=>{Object.keys(t).forEach((e=>{const a=new Array(e);l(a,t[e])}))})),t})(t,a.AtfpBlockParseRules[t.name],n),l=i.attributes),c=o(r,l,e),c},vt=(t,e,a)=>{let n=t.innerBlocks.map((t=>{if(t.name)return vt(t,e,a)}));return bt(t,n,e,a)},wt=t=>{if(!(0,l.dispatch)("yoast-seo/editor"))return;const{updateData:e,setFocusKeyword:a,setBreadcrumbsTitle:n,setFacebookPreviewTitle:o,setFacebookPreviewDescription:r,setTwitterPreviewTitle:s,setTwitterPreviewDescription:i}=(0,l.dispatch)("yoast-seo/editor"),{key:c,value:p}=t;switch(c){case"_yoast_wpseo_focuskw":a&&a(p);break;case"_yoast_wpseo_title":e&&e({title:p});break;case"_yoast_wpseo_metadesc":e&&e({description:p});break;case"_yoast_wpseo_bctitle":n&&n(p);break;case"_yoast_wpseo_opengraph-title":o&&o(p);break;case"_yoast_wpseo_opengraph-description":r&&r(p);break;case"_yoast_wpseo_twitter-title":s&&s(p);break;case"_yoast_wpseo_twitter-description":i&&i(p)}},Tt=t=>{if(!(0,l.dispatch)("rank-math"))return;const{updateKeywords:e,updateTitle:a,updateDescription:n,updateBreadcrumbTitle:o,updateFacebookTitle:r,updateFacebookDescription:s,updateTwitterTitle:i,updateTwitterDescription:c}=(0,l.dispatch)("rank-math"),{key:p,value:d}=t;switch(p){case"rank_math_focus_keyword":e&&e(d);break;case"rank_math_title":a&&a(d);break;case"rank_math_description":n&&n(d);break;case"rank_math_breadcrumb_title":o&&o(d);break;case"rank_math_facebook_title":r&&r(d);break;case"rank_math_facebook_description":s&&s(d);break;case"rank_math_twitter_title":i&&i(d);break;case"rank_math_twitter_description":c&&c(d)}},St=t=>{const{editPost:e}=(0,l.dispatch)("core/editor"),{modalClose:a,postContent:n,service:o}=t;(()=>{const t={};Object.keys(n).filter((t=>["title","excerpt"].includes(t))).forEach((e=>{const a=n[e];if(""!==a.trim()){const n=(0,l.select)("block-atfp/translate").getTranslatedString(e,a,null,o);t[e]=n}})),e(t)})(),(()=>{const t=n.metaFields,a=(0,l.select)("block-atfp/translate").getAllowedMetaFields();Object.keys(t).forEach((n=>{if(Object.keys(a).includes(n)){const r=(0,l.select)("block-atfp/translate").getTranslatedString("metaFields",t[n][0],n,o);n.startsWith("_yoast_wpseo_")&&"string"===a[n].inputType?wt({key:n,value:r}):n.startsWith("rank_math_")&&"string"===a[n].inputType?Tt({key:n,value:r}):n.startsWith("_seopress_")&&"string"===a[n].inputType?(async t=>{const{key:e,value:a}=t,n=e.replace(/^_/,"")+"_meta";if(document.querySelector("#"+n))switch(e){case"_seopress_titles_title":case"_seopress_titles_desc":case"_seopress_social_fb_title":case"_seopress_social_fb_desc":case"_seopress_social_twitter_title":case"_seopress_social_twitter_desc":jQuery(`#${n}`).val(a),jQuery(`#${n}`).trigger("change");break;case"_seopress_analysis_target_kw":window.target_kw&&window.target_kw instanceof window.Tagify&&window.target_kw.DOM.originalInput.id===n?window.target_kw.addTags(a):(jQuery("#"+n).val(a),jQuery("#"+n).trigger("change"))}})({key:n,value:r}):e({meta:{[n]:r}})}}))})(),(()=>{const t=(0,l.select)("block-atfp/translate").getAllowedMetaFields(),e=n.metaFields;window.acf&&acf.getFields().forEach((a=>{if(a.data&&a.data.key&&Object.keys(t).includes(a.data.key)){const t=acf.getField(a.data.key),n=a.data.key,r=a.data.name,s=t.data.type,i=e[r]?e[r][0]:acf.getField(n)?.val(),c=(0,l.select)("block-atfp/translate").getTranslatedString("metaFields",i,n,o);if("wysiwyg"===s&&tinymce){const e=t.data.id;tinymce.get(e)?.setContent(c)}else acf.getField(n)?.val(c)}}))})(),(()=>{const t=n.content;t.length<=0||Object.values(t).forEach((t=>{((t,e)=>{const{select:a}=wp.data,n=a("block-atfp/translate").getBlockRules(),{dispatch:o}=wp.data,{name:r}=t;if(r){let a=t.innerBlocks.map((t=>{if(t.name)return vt(t,n,e)}));const r=bt(t,a,n,e);o("core/block-editor").insertBlock(r)}})(t,o)}))})(),a()},kt=({characterCount:t=0,url:e=""})=>{const[a,n]=(0,p.useState)(!1),[o,r]=(0,p.useState)(!1);return""!==e&&(e+="?utm_source=atfp_plugin&utm_medium=inside&utm_campaign=get_pro&utm_content=popup"),(0,p.useEffect)((()=>{const t=document.querySelector('button.atfp-translate-button[name="atfp_meta_box_translate"],input#atfp-translate-button[name="atfp_meta_box_translate"]');if(t)return t.addEventListener("click",(()=>{n(!0),r(!0)})),()=>{t.removeEventListener("click",(()=>{}))}}),[]),a?React.createElement("div",{id:"atfp-pro-notice-wrapper",className:o?"atfp-active":""},React.createElement("div",{className:"atfp-pro-notice"},React.createElement("div",{className:"atfp-notice-header"},React.createElement("h2",null,"AutoPoly - AI Translation For Polylang"),React.createElement("span",{className:"atfp-close-button",onClick:()=>n(!1),"aria-label":"Close Notice"},"Ã—")),React.createElement("div",{className:"atfp-notice-content"},React.createElement("p",null,"You have reached the character limit of ",React.createElement("strong",null,React.createElement(m,{number:t}))," for your translations. To continue translating beyond this limit, please consider upgrading to ",React.createElement("strong",null,"AutoPoly - AI Translation For Polylang Pro"),".")),React.createElement("div",{className:"atfp-notice-footer"},React.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"atfp-upgrade-button"},"Upgrade to Pro")))):null},Et=t=>{const e=()=>{const t=document.querySelector(".atfp-body-notice-wrapper");if(t){const e=t.offsetHeight+t.offsetTop;t.closest(".modal-body").style.setProperty("--atfp-notice-wrapper-height",`${e}px`)}};return(0,p.useEffect)((()=>(t.lastNotice&&(e(),window.addEventListener("resize",e)),()=>{window.removeEventListener("resize",e)})),[t.lastNotice]),React.createElement("div",{className:t.className},t.children)},Ct=async t=>{const e=atfp_global_object.elementorData&&"string"==typeof atfp_global_object.elementorData?JSON.parse(atfp_global_object.elementorData):atfp_global_object.elementorData,a=atfp_global_object?.metaFields,n={widgetsContent:e,metaFields:a};Object.keys(_t).forEach((t=>{var e;e={id:t,type:_t[t].type},(0,l.dispatch)("block-atfp/translate").allowedMetaFields(e)})),(t=>{const e=(0,l.select)("block-atfp/translate").getAllowedMetaFields(),a=(t,e,n)=>{t(e[n],n),++n<e.length&&a(t,e,n)},n=(t,e)=>{if("string"==typeof e&&""!==e.trim()&&t.length>0){const a=t.join("_atfp_");e&&""!==e&&(0,l.dispatch)("block-atfp/translate").contentSaveSource(a,e)}},o=["content_width","title_size","font_size","margin","padding","background","border","color","text_align","font_weight","font_family","line_height","letter_spacing","text_transform","border_radius","box_shadow","opacity","width","height","display","position","z_index","visibility","align","max_width","content_typography_typography","flex_justify_content","title_color","description_color","email_content"],r=["title","description","editor","text","content","label"],s=(t,e,l=[])=>{const i=t.settings;if(l.push(e),"object"==typeof i&&null!==i&&Object.keys(i).length>0){const t=(t,e)=>{if(!o.some((e=>t.toLowerCase().includes(e)))&&(r.some((e=>t.toLowerCase().includes(e)))&&"string"==typeof i[t]&&""!==i[t].trim()&&n([...l,"settings",t],i[t]),Array.isArray(i[t])&&i[t].length>0)){const e=(e,s)=>{"object"==typeof e&&null!==e&&a((a=>{o.includes(a.toLowerCase())||r.some((t=>a.toLowerCase().includes(t)))&&"string"==typeof e[a]&&""!==e[a].trim()&&n([...l,"settings",t,s,a],e[a])}),Object.keys(e),0)};a(e,i[t],0)}};a(t,Object.keys(i),0)}if(t.elements&&Array.isArray(t.elements)&&t.elements.length>0){const e=(t,e)=>{s(t,e,[...l,"elements"])};a(e,t.elements,0)}};var i;t.widgetsContent&&t.widgetsContent.length>0&&a(((t,e)=>{s(t,e,[])}),t.widgetsContent,0),i=t.metaFields,Object.keys(i).forEach((t=>{Object.keys(e).includes(t)&&"string"===e[t].inputType&&""!==i[t][0]&&void 0!==i[t][0]&&(0,l.dispatch)("block-atfp/translate").metaFieldsSaveSource(t,i[t][0])}))})(n),t.refPostData(n),t.updatePostDataFetch(!0)},Rt=(t,e)=>{for(const a of t){if(a.get("id")===e)return a;const t=a.get("elements").models,n=Rt(t,e);if(n)return n}return null},Lt=({postContent:t,modalClose:e,service:a})=>{const n=elementor.config.document.id,o=[],r=["content_width","title_size","font_size","margin","padding","background","border","color","text_align","font_weight","font_family","line_height","letter_spacing","text_transform","border_radius","box_shadow","opacity","width","height","display","position","z_index","visibility","align","max_width","content_typography_typography","flex_justify_content","title_color","description_color","email_content"],s=(t,e,n=[])=>{const i=t.id,c=t.settings;if(n.push(e),"object"==typeof c&&null!==c){const t=["title","description","editor","text","content","label"];Object.keys(c).forEach((e=>{if(!r.some((t=>e.toLowerCase().includes(t)))){if(t.some((t=>e.toLowerCase().includes(t)))&&"string"==typeof c[e]&&""!==c[e].trim()){const t=n.join("_atfp_")+"_atfp_settings_atfp_"+e,r=(0,l.select)("block-atfp/translate").getTranslatedString("content",c[e],t,a);o.push({ID:i,key:e,translatedContent:r})}Array.isArray(c[e])&&c[e].forEach(((s,c)=>{"object"==typeof s&&null!==s&&Object.keys(s).forEach((p=>{if(!r.includes(p.toLowerCase())&&t.some((t=>p.toLowerCase().includes(t)))&&"string"==typeof s[p]&&""!==s[p].trim()){const t=`${e}[${c}].${p}`,r=n.join("_atfp_")+"_atfp_settings_atfp_"+e+"_atfp_"+c+"_atfp_"+p,d=(0,l.select)("block-atfp/translate").getTranslatedString("content",s[p],r,a);o.push({ID:i,key:t,translatedContent:d})}}))}))}}))}t.elements&&Array.isArray(t.elements)&&t.elements.forEach(((t,e)=>{s(t,e,[...n,"elements"])}))};t.widgetsContent.map(((t,e)=>s(t,e,[]))),(t=>{t.forEach((t=>{const e=Rt(elementor.elements.models,t.ID);if(e){const a=e.get("settings");a.get(t.key)&&a.set(t.key,t.translatedContent);const n=t.key.match(/(.+)\[(\d+)\]\.(.+)/);if(n){const[e,o,r,s]=n,l=a.get(o);Array.isArray(l.models)&&l.models[r]&&(l.models[r].attributes[s]=t.translatedContent,a.set(o,l))}}})),$e.internal("document/save/set-is-modified",{status:!0})})(o),((t,e)=>{const a=(0,l.select)("block-atfp/translate").getAllowedMetaFields();Object.keys(t).forEach((n=>{if(Object.keys(a).includes(n)){const o=(0,l.select)("block-atfp/translate").getTranslatedString("metaFields",t[n][0],n,e);n.startsWith("_yoast_wpseo_")&&"string"===a[n].inputType?wt({key:n,value:o}):n.startsWith("rank_math_")&&"string"===a[n].inputType?Tt({key:n,value:o}):n.startsWith("_seopress_")&&"string"===a[n].inputType&&elementor?.settings?.page?.model?.setExternalChange(n,o)}}))})(t.metaFields,a);const i=(()=>{const t=atfp_global_object.elementorData;return wp.data.select("block-atfp/translate").getTranslationEntry().forEach((e=>{const n=e.source,o=e.id,r=e.translatedData,s=e.type;if(!n||""===n&&"content"!==s)return;const l=o.split("_atfp_"),i=r[a];let c=null,p=null,d=t;l.forEach((t=>{c=d,p=t,d=d[t]})),c&&p&&c[p]&&c[p]===n&&(c[p]=i)})),t})();fetch(atfp_global_object.ajax_url,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:new URLSearchParams({action:atfp_global_object.update_elementor_data,post_id:n,elementor_data:JSON.stringify(i),atfp_nonce:atfp_global_object.ajax_nonce})}).then((t=>t.json())).then((t=>{if(t.success){const t=document.querySelector('.atfp-translate-button[name="atfp_meta_box_translate"]');t&&t.setAttribute("title","Translation process completed successfully."),elementor.reloadPreview()}else console.error("Failed to update Elementor data:",t.data);e()})).catch((t=>{e(),console.error("Error updating Elementor data:",t)}))},xt=window.atfp_global_object.editor_type,jt=()=>{let t=new Array;t.push('\x3c!-- The Modal --\x3e<div id="atfp-setting-modal"></div>','<div id="atfp_strings_model" class="modal atfp_custom_model"></div>'),t.forEach((t=>{document.body.insertAdjacentHTML("beforeend",t)}))},At=()=>{const t=[];if("gutenberg"===xt){"true"===atfp_global_object.postMetaSync&&t.push({className:"atfp-notice atfp-notice-warning",message:React.createElement("p",null,(0,i.__)("For accurate custom field translations, please disable the Custom Fields synchronization in ","autopoly-ai-translation-for-polylang"),React.createElement("a",{href:`${atfp_global_object.admin_url}admin.php?page=mlang_settings`,target:"_blank",rel:"noopener noreferrer"},(0,i.__)("Polylang settings","autopoly-ai-translation-for-polylang")),(0,i.__)(". This may affect linked posts or pages.","autopoly-ai-translation-for-polylang"))});const e=(0,l.select)("block-atfp/translate").getBlockRules();e.AtfpBlockParseRules&&0!==Object.keys(e.AtfpBlockParseRules).length||t.push({className:"atfp-notice atfp-notice-error",message:React.createElement("p",null,(0,i.__)("No block rules were found. It appears that the block-rules.JSON file could not be fetched, possibly because it is blocked by your server settings. Please check your server configuration to resolve this issue.","autopoly-ai-translation-for-polylang"))})}const e=t.length;if(t.length>0)return t.map(((t,a)=>React.createElement(Et,{className:t.className,key:a,lastNotice:a===e-1},t.message)))},Nt=()=>{const[t,e]=(0,p.useState)(!1),a=window.atfp_global_object.target_lang,n=window.atfp_global_object.parent_post_id,o=window.atfp_global_object.current_post_id,r=window.atfp_global_object.post_type;let s,l,c;const d=window.atfp_global_object.source_lang;"elementor"===xt?(c='button.atfp-translate-button[name="atfp_meta_box_translate"]',s=Lt,l=Ct):"gutenberg"===xt&&(c='input#atfp-translate-button[name="atfp_meta_box_translate"]',s=St,l=yt);const[u,g]=(0,p.useState)(!1),[m,f]=(0,p.useState)(!0);if((0,p.useEffect)((()=>{if(t){const t=document.querySelector(c);t&&(t.disabled=!0,t.value=(0,i.__)("Already Translated","autopoly-ai-translation-for-polylang"))}}),[t]),d&&""!==d)return React.createElement(React.Fragment,null,!t&&d&&""!==d&&React.createElement(F,{contentLoading:m,updatePostDataFetch:t=>{g(t),f(!1)},postDataFetchStatus:u,pageTranslate:t=>{e(t)},postId:n,currentPostId:o,targetLang:a,postType:r,fetchPostData:async t=>{await l(t);const e=wp.data.select("block-atfp/translate").getTranslationEntry();let a=0,n=0,o=0;e.map((t=>{const e=t.source?t.source:"",r=e.split(/(?<=[.!?]+)\s+/).length,s=e.trim().split(/\s+/).filter((t=>/[^\p{L}\p{N}]/.test(t))).length,l=e.length;a+=r,n+=l,o+=s})),wp.data.dispatch("block-atfp/translate").translationInfo({sourceStringCount:a,sourceWordCount:o,sourceCharacterCount:n})},translatePost:s,translateWrpSelector:c,stringModalBodyNotice:At}));{const t=document.querySelector(c);t&&(t.title=`Parent ${window.atfp_global_object.post_type} may be deleted.`,t.disabled=!0)}},Dt=()=>{const t=jQuery(".MuiButtonGroup-root.MuiButtonGroup-contained").parent(),e=jQuery(t).find(".elementor-button.atfp-translate-button");if(t.length>0&&0===e.length){const e=jQuery('<button class="elementor-button atfp-translate-button" name="atfp_meta_box_translate">Translate</button>');if(t.prepend(e),$e.internal("document/save/set-is-modified",{status:!0}),!window.atfp_global_object.translation_data||!window.atfp_global_object.translation_data.total_string_count&&0!==window.atfp_global_object.translation_data.total_string_count)return e.attr("disabled","disabled"),void e.attr("title","Translation data not found.");const a=parseInt(window.atfp_global_object.translation_data.total_character_count);if(a>5e5){const t=document.createElement("div");return t.id="atfp-pro-notice",document.body.appendChild(t),void r.createRoot(document.getElementById("atfp-pro-notice")).render(React.createElement(kt,{characterCount:a,url:window.atfp_global_object.pro_version_url||""}))}if(""===window.atfp_global_object.elementorData||window.atfp_global_object.elementorData.length<1||elementor.elements.length<1)return e.attr("disabled","disabled"),void e.attr("title","Translation is not available because there is no Elementor data.");jt(),r.createRoot(document.getElementById("atfp-setting-modal")).render(React.createElement(Nt,null))}};"gutenberg"===xt&&window.addEventListener("load",(()=>{jt();const t=jQuery('input#atfp-translate-button[name="atfp_meta_box_translate"]');if(!window.atfp_global_object.translation_data||!window.atfp_global_object.translation_data.total_string_count&&0!==window.atfp_global_object.translation_data.total_string_count)return t.attr("disabled","disabled"),void t.attr("title","Translation data not found.");const e=parseInt(window.atfp_global_object.translation_data.total_character_count);if(e>5e5){const t=document.createElement("div");return t.id="atfp-pro-notice",document.body.appendChild(t),void r.createRoot(document.getElementById("atfp-pro-notice")).render(React.createElement(kt,{characterCount:e,url:window.atfp_global_object.pro_version_url||""}))}const a=window.atfp_global_object.source_lang;a&&""!==a&&(()=>{const t=document.getElementById("atfp-setting-modal"),e=(()=>{const t=window.atfp_global_object.post_type,e=window.atfp_global_object.target_lang,a=atfp_global_object.languageObject[e].name,n=document.createElement("div");return n.id="atfp-modal-open-warning-wrapper",n.innerHTML=`\n    <div class="modal-container" style="display: flex">\n      <div class="modal-content">\n        <p>${(0,i.sprintf)((0,i.__)("Would you like to duplicate your original %s content and have it automatically translated into %s?","autopoly-ai-translation-for-polylang"),t,a)}</p>\n        <div>\n          <div data-value="yes">${(0,i.__)("Yes","autopoly-ai-translation-for-polylang")}</div>\n          <div data-value="no">${(0,i.__)("No","autopoly-ai-translation-for-polylang")}</div>\n        </div>\n      </div>\n    </div>`,n})();document.body.insertBefore(e,t)})(),r.createRoot(document.getElementById("atfp-setting-modal")).render(React.createElement(Nt,null))})),"elementor"===xt&&jQuery(window).on("elementor:init",(function(){elementor.on("document:loaded",Dt)}))})();